<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation | QAIL</title>
    <meta name="description" content="Complete documentation for QAIL v2.0: The Universal Query Transpiler.">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü™ù</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Navigation -->
    <div id="navbar"></div>

    <header class="page-header">
        <div class="container">
            <h1>Documentation</h1>
            <p class="subtitle">Quick Reference, Syntax, and Guides</p>
        </div>
    </header>

    <main class="page-content">
        <div class="container">
            <!-- Shortcuts -->
            <div class="docs-nav">
                <a href="#quick-ref">Quick Ref</a>
                <a href="#installation">Installation</a>
                <a href="#syntax">Syntax</a>
                <a href="#examples">Examples</a>
            </div>

            <!-- Reference Table -->
            <section id="quick-ref">
                <h2>Quick Reference</h2>
                <div class="symbols-table-wrapper">
                    <table class="symbols-table">
                        <thead>
                            <tr>
                                <th>Symbol</th>
                                <th>Name</th>
                                <th>Function</th>
                                <th>SQL Equivalent</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="symbol">::</td>
                                <td>The Gate</td>
                                <td>Action (get/set/del/add)</td>
                                <td>SELECT/UPDATE...</td>
                            </tr>
                            <tr>
                                <td class="symbol">:</td>
                                <td>The Link</td>
                                <td>Connect table to columns</td>
                                <td>FROM table</td>
                            </tr>
                            <tr>
                                <td class="symbol">'</td>
                                <td>The Label</td>
                                <td>Mark a column</td>
                                <td>col1, col2</td>
                            </tr>
                            <tr>
                                <td class="symbol">'_</td>
                                <td>The Wildcard</td>
                                <td>All columns</td>
                                <td>*</td>
                            </tr>
                            <tr>
                                <td class="symbol">[ ]</td>
                                <td>The Cage</td>
                                <td>Constraints block</td>
                                <td>WHERE/LIMIT...</td>
                            </tr>
                            <tr>
                                <td class="symbol">==</td>
                                <td>The Equal</td>
                                <td>Equality check</td>
                                <td>= value</td>
                            </tr>
                            <tr>
                                <td class="symbol">~</td>
                                <td>The Fuse</td>
                                <td>Fuzzy Match</td>
                                <td>ILIKE</td>
                            </tr>
                            <tr>
                                <td class="symbol">|</td>
                                <td>The Split</td>
                                <td>Logical OR</td>
                                <td>OR</td>
                            </tr>
                            <tr>
                                <td class="symbol">&</td>
                                <td>The Bind</td>
                                <td>Logical AND</td>
                                <td>AND</td>
                            </tr>
                            <tr>
                                <td class="symbol">+col</td>
                                <td>Sort Asc</td>
                                <td>Ascending sort</td>
                                <td>ORDER BY col ASC</td>
                            </tr>
                            <tr>
                                <td class="symbol">-col</td>
                                <td>Sort Desc</td>
                                <td>Descending sort</td>
                                <td>ORDER BY col DESC</td>
                            </tr>
                            <tr>
                                <td class="symbol">N..M</td>
                                <td>The Range</td>
                                <td>Pagination</td>
                                <td>LIMIT M-N OFFSET N</td>
                            </tr>
                            <tr>
                                <td class="symbol">$</td>
                                <td>The Var</td>
                                <td>Parameter</td>
                                <td>$1</td>
                            </tr>
                            <tr>
                                <td class="symbol">!</td>
                                <td>The Unique</td>
                                <td>Distinct</td>
                                <td>DISTINCT</td>
                            </tr>
                            <tr>
                                <td class="symbol">&lt;-</td>
                                <td>The Left</td>
                                <td>Left Join</td>
                                <td>LEFT JOIN</td>
                            </tr>
                            <tr>
                                <td class="symbol">->&gt;</td>
                                <td>The Right</td>
                                <td>Inner Join</td>
                                <td>INNER JOIN</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <hr class="divider">

            <!-- Installation -->
            <section id="installation">
                <h2>Installation</h2>

                <h3>CLI</h3>
                <div class="code-block"><code>cargo install qail</code></div>

                <h3>Rust Library</h3>
                <div class="code-block"><code>[dependencies]
qail-core = "0.5.0"</code></div>

                <h3>JavaScript/TypeScript (WASM)</h3>
                <div class="code-block"><code>npm install qail-wasm</code></div>

                <h3>Usage</h3>
                <div class="code-block"><code>// Rust - compile-time validation
let sql = qail!("get::users:'_[active=true]");

// JavaScript - runtime validation
import { parseAndTranspile } from 'qail-wasm';
const sql = parseAndTranspile("get::users:'_[active=true]");</code></div>
            </section>

            <hr class="divider">

            <!-- Syntax -->
            <section id="syntax">
                <h2>Syntax Deep Dive</h2>

                <div class="example-card">
                    <h3>Simple SELECT</h3>
                    <div class="code-block qail"><code>get::users:'id'email [ 'active == true ]</code></div>
                    <div class="code-block sql"><code>SELECT id, email FROM users WHERE active = true</code></div>
                </div>

                <div class="example-card">
                    <h3>All Columns (Wildcard)</h3>
                    <div class="code-block qail"><code>get::users:'_</code></div>
                    <div class="code-block sql"><code>SELECT * FROM users</code></div>
                </div>

                <div class="example-card">
                    <h3>Pagination with Range</h3>
                    <div class="code-block qail"><code>get::users:'_ [ 20..30 ]</code></div>
                    <div class="code-block sql"><code>SELECT * FROM users LIMIT 10 OFFSET 20</code></div>
                </div>

                <div class="example-card">
                    <h3>Sorting</h3>
                    <div class="code-block qail"><code>get::users:'_ [ -created_at ]</code></div>
                    <div class="code-block sql"><code>SELECT * FROM users ORDER BY created_at DESC</code></div>
                    <div class="code-block qail"><code>get::users:'_ [ +name ]</code></div>
                    <div class="code-block sql"><code>SELECT * FROM users ORDER BY name ASC</code></div>
                </div>

                <div class="example-card">
                    <h3>OR Conditions</h3>
                    <div class="code-block qail"><code>get::users:'_ [ 'role == "admin" | 'role == "mod" ]</code></div>
                    <div class="code-block sql"><code>SELECT * FROM users WHERE role = 'admin' OR role = 'mod'</code>
                    </div>
                </div>

                <div class="example-card highlight-card">
                    <h3>DISTINCT</h3>
                    <div class="code-block qail"><code>get!::users:'role</code></div>
                    <div class="code-block sql"><code>SELECT DISTINCT role FROM users</code></div>
                </div>

                <div class="example-card">
                    <h3>UPDATE</h3>
                    <div class="code-block qail"><code>set::users:[ verified = true ][ 'id == $1 ]</code></div>
                    <div class="code-block sql"><code>UPDATE users SET verified = true WHERE id = $1</code></div>
                </div>

                <div class="example-card">
                    <h3>DELETE</h3>
                    <div class="code-block qail"><code>del::users:[ 'id == $1 ]</code></div>
                    <div class="code-block sql"><code>DELETE FROM users WHERE id = $1</code></div>
                </div>

                <div class="example-card">
                    <h3>JOINs</h3>
                    <div class="code-block qail"><code>get::users<-profiles:'name'avatar</code></div>
                    <div class="code-block sql"><code>SELECT name, avatar FROM users LEFT JOIN profiles ON ...</code>
                    </div>
                </div>
            </section>

            <hr class="divider">

            <!-- Examples -->
            <section id="examples">
                <h2>Real-World Examples</h2>

                <div class="example-card">
                    <h3>Search with Fuzzy Match</h3>
                    <div class="code-block qail"><code>get::users:'id'name [ 'name ~ "john" ]</code></div>
                    <div class="code-block sql"><code>SELECT id, name FROM users WHERE name ILIKE '%john%'</code></div>
                </div>

                <div class="example-card">
                    <h3>Complex Filter</h3>
                    <div class="code-block qail">
                        <code>get::bookings:'_ [ 'status == "confirmed" & 'created_at >= "2024-01-01", -created_at, 0..50 ]</code>
                    </div>
                    <div class="code-block sql">
                        <code>SELECT * FROM bookings WHERE status = 'confirmed' AND created_at >= '2024-01-01' ORDER BY created_at DESC LIMIT 50</code>
                    </div>
                </div>

                <div class="example-card highlight-card">
                    <h3>Multi-Line (Vertical Escape Hatch)</h3>
                    <div class="code-block qail">
                        <pre><code>get::users->bookings:'_
    [ 'created_at >= "2024-01-01" ]
    [ 'email_verified == true ]
    [ 'bookings.campaign_code ~ $1 ]
    [ -created_at ]
    [ 0..50 ]</code></pre>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <div id="footer"></div>

    <script src="components.js"></script>
    <script src="script.js"></script>
</body>

</html>